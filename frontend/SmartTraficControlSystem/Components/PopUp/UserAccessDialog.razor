@using SmartTraficControlSystem.Components.Forms

<MudDialog MaxWidth="MaxWidth.Small" MaxHeight="95vh" DisableScrollLock="true">
    <TitleContent>
        @if (hasAccount)
        {
            <MudText Typo="Typo.h5">Login to your account</MudText>
        }
        else
        {
            <MudText Typo="Typo.h5">Create a new account</MudText>
        }
    </TitleContent>

    <DialogContent>
        <MudContainer MaxWidth="MaxWidth.Small" Class="w-100" Style="padding-top:10vh;">
            @if (hasAccount)
            {
                <LoginForm HasAccount="HandleForm" OnLoginSuccess="Submit" />
            }
            else
            {
                <RegisterForm HasAccount="HandleForm" OnRegisterRequested="Submit" />
            }
        </MudContainer>
    </DialogContent>


</MudDialog>

@code {
    [CascadingParameter] private IMudDialogInstance MudDialog { get; set; }


    private bool hasAccount = true;

    private void HandleForm(bool value)
    {
        hasAccount = value;
    }

    private void Submit() => MudDialog.Close(DialogResult.Ok(true));

    private void Cancel() => MudDialog.Cancel();
}